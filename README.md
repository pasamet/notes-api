## Running locally
The application requires JDK-21

To start the application locally:
```bash
./gradlew bootRun
```

## Authentication
To register a new user:
```bash
curl -d '{"username":"<username>", "password":"<password>", "name":"<Name>"}' -H "Content-Type: application/json" -X POST http://localhost:8080/register
```
`<password>` constraints are:
- between 8 and 30 characters long
- Contains, at least:
  - 1 uppercase letter, 
  - 1 lowercase letter, 
  - 1 digit and 
  - 1 special character (!"#$%&'()*+,-./:;<=>?@[\]^_`{|}~) 
- Should not contain a space

After registering user, JWT token can be generated by:
```bash
curl -X POST localhost:8080/token -u "<username>:<password>"
```

Resulting <token> is required for each endpoint except `/register`
Example:
Creating a note:
```bash
curl -H "Authorization: Bearer <token>" -H "Content-Type: application/json" -d '{"title":"Note title", "content":"Note contents"}' -X POST localhost:8080/note
```

## API documentation
API documentation can be found at http://localhost:8080/swagger-ui/index.html

## Security
JWT tokens are generated using RSA.
A certificate pair is already [configured](src/main/resources/certs).
To generate a new pair of certificates, (eg for deployment):
```bash
./script/create_certs.sh
```

## Performance considerations
Following to requirement:
> Retrieve the authenticated userâ€™s last 1,000 notes sorted by creation date efficiently.

Notes table has indexes for `userId` and `createdAt` columns. Also latest version of title and content values are normalized in `Notes' table.


